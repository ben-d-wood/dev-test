<link rel="import" href="../../bower_components/polymer/polymer.html" />

<dom-module id="dev-menu">
  <style>
    nav {
      background-color: #bbb;
      height: calc(100vh - 120px);
      padding-top: 10px;
    }
  </style>
  <template>
    <nav>
      <div class="col-xs-12">
        <button class="btn btn-lg btn-block" on-tap="addTask" id="addTask">
          Add Task
        </button>
      </div>
    </nav>
  </template>

  <script>
    Polymer({
      is: "dev-menu",
      addTask: function() {
        bootbox.prompt("Enter the name of this Task:", function(result) {
          console.log(result);
          // Add code here to submit the task to the backend
          //This result needs to be added to the row array (name: result, description: "task added")
        });

        // fixes issue with bootbox overlay causing text boxes to be covered
        window.setTimeout(function() {
          $(".bootbox").removeAttr("tabIndex");
        }, 200);
      },
      listeners: {
        "addTask.tap": "addTap"
      },
      addTap: function(e) {
        addTask();
      }
    });
  </script>
</dom-module>
